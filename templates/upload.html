{% extends "layout.html" %}

{% block body %}
<style>
    body, h1, button, input, a, li {
        font-family: -apple-system, 'SF Pro';
    }

    h1 {
        color: #7ABDE5;
        text-align: center;
        margin-top: 30px;
    }

    form {
        text-align: center;
        margin-top: 20px;
    }

    input[type="file"] {
        margin: 10px 0;
    }

    button {
        border: 2px solid #7ABDE5;
        border-radius: 100px;
        padding: 10px 24px;
        background-color: #7ABDE5;
        color: white;
        font-weight: bold;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    button:hover {
        background-color: #5caed3;
    }

    ul {
        text-align: center;
        color: green;
        list-style-type: none;
        padding: 0;
        margin-top: 15px;
    }

    a {
        display: block;
        text-align: center;
        margin-top: 30px;
        color: #7ABDE5;
        font-weight: bold;
        text-decoration: none;
    }

    a:hover {
        text-decoration: underline;
    }
</style>

<h1>Upload or Export CSV</h1>

<!-- Upload Patients CSV -->
<form method="post" enctype="multipart/form-data">
    <input type="file" name="file" accept=".csv" required>
    <br>
    <button type="submit" name="action" value="upload_patients">üì§ Upload Patients CSV</button>
</form>

<!-- Export Inventory CSV -->
<form method="post">
    <button type="submit" name="action" value="export_inventory" style="margin-top: 20px;">
        üìÅ Export Inventory CSV
    </button>
</form>

<!-- Flash messages -->
{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul>
      {% for msg in messages %}
        <li>{{ msg }}</li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

<!-- Download Latest Patients -->
<form action="{{ url_for('download_csv') }}" method="get">
    <button type="submit">‚¨áÔ∏è Download Latest Patient List (CSV)</button>
</form>

<a href="/">‚Üê Back to Home</a>
{% endblock %}